{% extends 'base.html.twig' %}

{% block title %}Modifier {{ livre.titre }}{% endblock %}

{% block body %}
<!-- Page Header -->
<div class="page-header">
    <div>
        <h1>Modifier {{ livre.titre }}</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ path('app_accueil') }}">Accueil</a></li>
                <li class="breadcrumb-item"><a href="{{ path('app_livre_index') }}">Livres</a></li>
                <li class="breadcrumb-item"><a href="{{ path('app_livre_show', {'id': livre.id}) }}">{{ livre.titre }}</a></li>
                <li class="breadcrumb-item active">Modifier</li>
            </ol>
        </nav>
    </div>
    <div>
        <a href="{{ path('app_livre_show', {'id': livre.id}) }}" class="btn btn-outline-gradient me-2">
            <i class="bi bi-eye me-2"></i>
            Voir les détails
        </a>
        <a href="{{ path('app_livre_index') }}" class="btn btn-outline-gradient">
            <i class="bi bi-arrow-left me-2"></i>
            Retour à la liste
        </a>
    </div>
</div>

<!-- Form -->
<div class="row">
    <div class="col-lg-8 col-xl-6">
        <div class="card-modern">
            <div class="card-header-modern">
                <h2 class="card-title-modern">
                    <i class="bi bi-pencil"></i> Modifier les Informations
                </h2>
            </div>
            <div class="card-body-modern">
                {{ include('livre/_form.html.twig', {'button_label': 'Mettre à jour'}) }}
            </div>
        </div>
    </div>
    
    <div class="col-lg-4 col-xl-6">
        <!-- Book Info Card -->
        <div class="card-modern mb-4">
            <div class="card-header-modern">
                <h2 class="card-title-modern">
                    <i class="bi bi-info-circle"></i> Informations Actuelles
                </h2>
            </div>
            <div class="card-body-modern">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 600; color: #8f9bb3; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">Titre</label>
                    <div style="font-weight: 600; color: #1a1d2e;">{{ livre.titre }}</div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 600; color: #8f9bb3; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">ISBN</label>
                    <code style="background: #f7f9fc; padding: 6px 12px; border-radius: 6px; font-size: 0.9rem; color: #667eea;">
                        {{ livre.isbn }}
                    </code>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 600; color: #8f9bb3; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">Stock</label>
                    <span class="badge-modern" style="background: {{ livre.qte > 10 ? 'rgba(79, 172, 254, 0.1)' : 'rgba(245, 87, 108, 0.1)' }}; color: {{ livre.qte > 10 ? '#4facfe' : '#f5576c' }};">
                        {{ livre.qte }} unité{{ livre.qte > 1 ? 's' : '' }}
                    </span>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 600; color: #8f9bb3; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">Prix</label>
                    <div style="font-weight: 600; color: #667eea; font-size: 1.1rem;">
                        {{ livre.pu|number_format(2, ',', ' ') }} €
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Danger Zone -->
        <div class="card-modern">
            <div class="card-header-modern">
                <h2 class="card-title-modern" style="color: #f5576c;">
                    <i class="bi bi-exclamation-triangle"></i> Zone de Danger
                </h2>
            </div>
            <div class="card-body-modern">
                <p style="color: #8f9bb3; font-size: 0.9rem; margin-bottom: 20px;">
                    La suppression d'un livre est irréversible. Toutes les données associées seront perdues.
                </p>
                {{ include('livre/_delete_form.html.twig') }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
